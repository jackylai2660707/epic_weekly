{"text": "2023-09-08 07:45:09 | INFO - prelude- {'action': 'Checking the operating environment'}\n", "record": {"elapsed": {"repr": "0:00:00.485126", "seconds": 0.485126}, "exception": null, "extra": {"action": "Checking the operating environment"}, "file": {"name": "claim.py", "path": "/home/runner/work/epic_weekly/epic_weekly/epic/src/claim.py"}, "function": "prelude", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 25, "message": "prelude", "module": "claim", "name": "__main__", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:09.167342+08:00", "timestamp": 1694130309.167342}}}
{"text": "2023-09-08 07:45:09 | DEBUG - Downloading resource- {'url': 'https://raw.githubusercontent.com/QIN2DIM/hcaptcha-challenger/main/src/objects.yaml', 'to': '/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/hcaptcha_challenger/onnx/models/objects.yaml'}\n", "record": {"elapsed": {"repr": "0:00:00.822835", "seconds": 0.822835}, "exception": null, "extra": {"url": "https://raw.githubusercontent.com/QIN2DIM/hcaptcha-challenger/main/src/objects.yaml", "to": "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/hcaptcha_challenger/onnx/models/objects.yaml"}, "file": {"name": "modelhub.py", "path": "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/hcaptcha_challenger/onnx/modelhub.py"}, "function": "request_resource", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 45, "message": "Downloading resource", "module": "modelhub", "name": "hcaptcha_challenger.onnx.modelhub", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:09.505051+08:00", "timestamp": 1694130309.505051}}}
{"text": "2023-09-08 07:45:09 | INFO - Reloading the local cache of Assets- {'assets_dir': '/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/hcaptcha_challenger/onnx/models/_assets'}\n", "record": {"elapsed": {"repr": "0:00:01.023227", "seconds": 1.023227}, "exception": null, "extra": {"assets_dir": "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/hcaptcha_challenger/onnx/models/_assets"}, "file": {"name": "modelhub.py", "path": "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/hcaptcha_challenger/onnx/modelhub.py"}, "function": "flush_runtime_assets", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 136, "message": "Reloading the local cache of Assets", "module": "modelhub", "name": "hcaptcha_challenger.onnx.modelhub", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:09.705443+08:00", "timestamp": 1694130309.705443}}}
{"text": "2023-09-08 07:45:09 | DEBUG - Pulling Assets index file- {'url': 'https://api.github.com/repos/QIN2DIM/hcaptcha-challenger/releases'}\n", "record": {"elapsed": {"repr": "0:00:01.024342", "seconds": 1.024342}, "exception": null, "extra": {"url": "https://api.github.com/repos/QIN2DIM/hcaptcha-challenger/releases"}, "file": {"name": "modelhub.py", "path": "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/hcaptcha_challenger/onnx/modelhub.py"}, "function": "flush_runtime_assets", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 150, "message": "Pulling Assets index file", "module": "modelhub", "name": "hcaptcha_challenger.onnx.modelhub", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:09.706558+08:00", "timestamp": 1694130309.706558}}}
{"text": "2023-09-08 07:45:12 | INFO - execute task- {'name': 'claim_epic_games'}\n", "record": {"elapsed": {"repr": "0:00:03.946209", "seconds": 3.946209}, "exception": null, "extra": {"name": "claim_epic_games"}, "file": {"name": "models.py", "path": "/home/runner/work/epic_weekly/epic_weekly/epic/src/services/models.py"}, "function": "execute", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 105, "message": "execute task", "module": "models", "name": "services.models", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:12.628425+08:00", "timestamp": 1694130312.628425}}}
{"text": "2023-09-08 07:45:12 | INFO - claim_epic_games- {'action': 'Try to flush cookie'}\n", "record": {"elapsed": {"repr": "0:00:03.992511", "seconds": 3.992511}, "exception": null, "extra": {"action": "Try to flush cookie"}, "file": {"name": "claim.py", "path": "/home/runner/work/epic_weekly/epic_weekly/epic/src/claim.py"}, "function": "claim_epic_games", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 57, "message": "claim_epic_games", "module": "claim", "name": "__main__", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:12.674727+08:00", "timestamp": 1694130312.674727}}}
{"text": "2023-09-08 07:45:14 | SUCCESS - login- {'result': 'token has not expired'}\n", "record": {"elapsed": {"repr": "0:00:05.582638", "seconds": 5.582638}, "exception": null, "extra": {"result": "token has not expired"}, "file": {"name": "epic_games.py", "path": "/home/runner/work/epic_weekly/epic_weekly/epic/src/services/agents/epic_games.py"}, "function": "_login", "level": {"icon": "‚úÖ", "name": "SUCCESS", "no": 25}, "line": 129, "message": "login", "module": "epic_games", "name": "services.agents.epic_games", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:14.264854+08:00", "timestamp": 1694130314.264854}}}
{"text": "2023-09-08 07:45:28 | SUCCESS - flush_token- {'path': PosixPath('/home/runner/work/epic_weekly/epic_weekly/epic/user_data_dir/epic-games@jackylai260707/ctx_cookie.json')}\n", "record": {"elapsed": {"repr": "0:00:19.804104", "seconds": 19.804104}, "exception": null, "extra": {"path": "/home/runner/work/epic_weekly/epic_weekly/epic/user_data_dir/epic-games@jackylai260707/ctx_cookie.json"}, "file": {"name": "epic_games.py", "path": "/home/runner/work/epic_weekly/epic_weekly/epic/src/services/agents/epic_games.py"}, "function": "flush_token", "level": {"icon": "‚úÖ", "name": "SUCCESS", "no": 25}, "line": 150, "message": "flush_token", "module": "epic_games", "name": "services.agents.epic_games", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:28.486320+08:00", "timestamp": 1694130328.48632}}}
{"text": "2023-09-08 07:45:29 | INFO - claim_weekly_games- {'action': 'go to store', 'url': 'https://store.epicgames.com/en-US/p/spelldrifter'}\n", "record": {"elapsed": {"repr": "0:00:21.232060", "seconds": 21.23206}, "exception": null, "extra": {"action": "go to store", "url": "https://store.epicgames.com/en-US/p/spelldrifter"}, "file": {"name": "epic_games.py", "path": "/home/runner/work/epic_weekly/epic_weekly/epic/src/services/agents/epic_games.py"}, "function": "claim_weekly_games", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 162, "message": "claim_weekly_games", "module": "epic_games", "name": "services.agents.epic_games", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:29.914276+08:00", "timestamp": 1694130329.914276}}}
{"text": "2023-09-08 07:45:38 | INFO - claim_weekly_games- {'action': 'move to webPurchaseContainer iframe'}\n", "record": {"elapsed": {"repr": "0:00:30.118408", "seconds": 30.118408}, "exception": null, "extra": {"action": "move to webPurchaseContainer iframe"}, "file": {"name": "epic_games.py", "path": "/home/runner/work/epic_weekly/epic_weekly/epic/src/services/agents/epic_games.py"}, "function": "claim_weekly_games", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 190, "message": "claim_weekly_games", "module": "epic_games", "name": "services.agents.epic_games", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:45:38.800624+08:00", "timestamp": 1694130338.800624}}}
{"text": "2023-09-08 07:46:16 | ERROR - An error has been caught in function '_run', process 'MainProcess' (3526), thread 'MainThread' (140152745483328):- {}\nTraceback (most recent call last):\n  File \"/home/runner/work/epic_weekly/epic_weekly/epic/src/claim.py\", line 94, in <module>\n    asyncio.run(run())\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/asyncio/base_events.py\", line 1909, in _run_once\n    handle._run()\n> File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n  File \"/home/runner/work/epic_weekly/epic_weekly/epic/src/claim.py\", line 90, in run\n    await agent.execute(sequence=[claim_epic_games], headless=True)\n  File \"/home/runner/work/epic_weekly/epic_weekly/epic/src/services/models.py\", line 113, in execute\n    await container(context)\n  File \"/home/runner/work/epic_weekly/epic_weekly/epic/src/claim.py\", line 79, in claim_epic_games\n    await epic.claim_weekly_games(page, promotions)\n  File \"/home/runner/work/epic_weekly/epic_weekly/epic/src/services/agents/epic_games.py\", line 196, in claim_weekly_games\n    await payment_btn.click()\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/playwright/async_api/_generated.py\", line 15634, in click\n    await self._impl_obj.click(\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/playwright/_impl/_locator.py\", line 160, in click\n    return await self._frame.click(self._selector, strict=True, **params)\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 489, in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 482, in wrap_api_call\n    return await cb()\n  File \"/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\nplaywright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for frame_locator(\"xpath=//iframe[@class='']\").locator(\"xpath=//div[@class='payment-order-confirm']\")\n============================================================\n", "record": {"elapsed": {"repr": "0:01:07.511740", "seconds": 67.51174}, "exception": {"type": "TimeoutError", "value": "Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for frame_locator(\"xpath=//iframe[@class='']\").locator(\"xpath=//div[@class='payment-order-confirm']\")\n============================================================", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/asyncio/events.py"}, "function": "_run", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 80, "message": "An error has been caught in function '_run', process 'MainProcess' (3526), thread 'MainThread' (140152745483328):", "module": "events", "name": "asyncio.events", "process": {"id": 3526, "name": "MainProcess"}, "thread": {"id": 140152745483328, "name": "MainThread"}, "time": {"repr": "2023-09-08 07:46:16.193956+08:00", "timestamp": 1694130376.193956}}}
